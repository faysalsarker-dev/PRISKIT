{"version":3,"sources":["../src/app.ts","../src/app/errors/globalErrorHandler.ts","../src/app/errors/ApiError.ts","../src/app/errors/prismaErrorHandler.ts","../src/app/errors/handleZodError.ts","../src/app/errors/handleSyntaxError.ts","../src/app/routes/index.ts","../src/app/config/index.ts","../src/server.ts"],"sourcesContent":["import express, { Application, Request, Response, NextFunction } from \"express\";\r\nimport cors from \"cors\";\r\nimport cookieParser from \"cookie-parser\";\r\nimport { globalErrorHandler } from \"./app/errors/globalErrorHandler\";\r\nimport { AppError } from \"./app/errors/ApiError\";\r\nimport { router } from \"./app/routes/index\"\r\n\r\nconst app: Application = express();\r\n\r\n\r\napp.use(\r\n  cors({\r\n    origin: process.env.FRONTEND_URL\r\n      ? [process.env.FRONTEND_URL, \"http://localhost:3000\", \"http://localhost:5173\"]\r\n      : [\"http://localhost:3000\", \"http://localhost:5173\", \"http://192.168.0.127:3000\"],\r\n    credentials: true,\r\n  })\r\n);\r\n\r\n\r\napp.use(express.json()); \r\napp.use(express.urlencoded({ extended: true })); \r\napp.use(cookieParser()); \r\n\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  app.use((req: Request, res: Response, next: NextFunction) => {\r\n    const timestamp = new Date().toISOString();\r\n    console.log(`ðŸš€ [${timestamp}] ${req.method} ${req.path}`);\r\n    next();\r\n  });\r\n}\r\n\r\n\r\napp.get(\"/\", (req: Request, res: Response) => {\r\n  res.status(200).json({\r\n    success: true,\r\n    message: \"Server is running\",\r\n    version: \"1.0.0\",\r\n  });\r\n});\r\n\r\napp.use(\"/api/v1\", router);\r\n\r\n\r\napp.use((req: Request, res: Response, next: NextFunction) => {\r\n  next(new AppError(`Can't find ${req.originalUrl} on this server!`, 404));\r\n});\r\n\r\napp.use(globalErrorHandler);\r\n\r\nexport default app;","import { PrismaClientKnownRequestError } from '@prisma/client/runtime/client';\r\nimport { Request, Response, NextFunction } from 'express';\r\nimport { ZodError } from 'zod';\r\nimport { handlePrismaError } from './prismaErrorHandler';\r\nimport { AppError } from './ApiError';\r\nimport { handleZodError } from './handleZodError';\r\nimport { handleSyntaxError } from './handleSyntaxError';\r\n\r\n\r\n\r\n\r\n// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n\r\nexport const globalErrorHandler = (\r\n  err: any,\r\n  req: Request,\r\n  res: Response,\r\n  next: NextFunction\r\n) => {\r\n  let error = { ...err };\r\n  error.message = err.message;\r\n\r\n  // 1. Prisma\r\n  if (err instanceof PrismaClientKnownRequestError) {\r\n    error = handlePrismaError(err);\r\n  }\r\n\r\n  // 2. Zod\r\n  else if (err instanceof ZodError) {\r\n    error = handleZodError(err);\r\n  }\r\n\r\n  // 3. Bad JSON body\r\n  else if (err instanceof SyntaxError && \"body\" in err) {\r\n    error = handleSyntaxError();\r\n  }\r\n\r\n  const statusCode = error.statusCode || 500;\r\n  const status     = statusCode >= 400 && statusCode < 500 ? \"fail\" : \"error\";\r\n\r\n  res.status(statusCode).json({\r\n    status,\r\n    message: error.message || \"Internal Server Error\",\r\n    ...(process.env.NODE_ENV === \"development\" && { stack: err.stack }),\r\n  });\r\n};","export class AppError extends Error {\r\n  public statusCode: number;\r\n  public isOperational: boolean;\r\n\r\n  constructor(message: string, statusCode: number) {\r\n    super(message);\r\n    this.statusCode = statusCode;\r\n    this.isOperational = true; // Distinguishes \"known\" errors from \"crashes\"\r\n\r\n    Error.captureStackTrace(this, this.constructor);\r\n  }\r\n}","import { PrismaClientKnownRequestError } from \"@prisma/client/runtime/client\";\r\nimport { AppError } from \"./ApiError\";\r\n\r\nexport const handlePrismaError = (err: PrismaClientKnownRequestError) => {\r\n  switch (err.code) {\r\n\r\n   \r\n    case \"P2000\":\r\n      const tooLongField = (err.meta?.column_name as string) || \"field\";\r\n      return new AppError(`Value too long for field: ${tooLongField}.`, 400);\r\n\r\n    case \"P2001\":\r\n      return new AppError(\"The record you are searching for does not exist.\", 404);\r\n\r\n    case \"P2002\":\r\n      const uniqueField = (err.meta?.target as string[])?.join(\", \") || \"field\";\r\n      return new AppError(`Duplicate value for ${uniqueField}. Please use another value.`, 400);\r\n\r\n    case \"P2003\":\r\n      const fkField = (err.meta?.field_name as string) || \"field\";\r\n      return new AppError(`Invalid reference on field: ${fkField}. The related record does not exist.`, 400);\r\n\r\n    case \"P2004\":\r\n      return new AppError(\"A database constraint failed. Please check your input.\", 400);\r\n\r\n    case \"P2005\":\r\n      // Invalid value for field type stored in database\r\n      const invalidField = (err.meta?.field_name as string) || \"field\";\r\n      return new AppError(`Invalid value stored in database for field: ${invalidField}.`, 400);\r\n\r\n    case \"P2006\":\r\n      // Invalid value provided for field\r\n      const invalidValueField = (err.meta?.field_name as string) || \"field\";\r\n      return new AppError(`Invalid value provided for field: ${invalidValueField}.`, 400);\r\n\r\n    case \"P2007\":\r\n      // Data validation error\r\n      return new AppError(\"Data validation error. Please check your input.\", 400);\r\n\r\n    case \"P2008\":\r\n      // Failed to parse query\r\n      return new AppError(\"Failed to parse the query. Please check your request.\", 400);\r\n\r\n    case \"P2009\":\r\n      // Failed to validate query\r\n      return new AppError(\"Failed to validate the query. Please check your request.\", 400);\r\n\r\n    case \"P2010\":\r\n      // Raw query failed\r\n      const rawQueryCode = (err.meta?.code as string) || \"unknown\";\r\n      return new AppError(`Raw query failed with code: ${rawQueryCode}.`, 500);\r\n\r\n    case \"P2011\":\r\n      // Null constraint violation\r\n      const nullField = (err.meta?.constraint as string) || \"field\";\r\n      return new AppError(`Null constraint violation on field: ${nullField}. This field is required.`, 400);\r\n\r\n    case \"P2012\":\r\n      // Missing required value\r\n      const missingField = (err.meta?.path as string) || \"field\";\r\n      return new AppError(`Missing required value for: ${missingField}.`, 400);\r\n\r\n    case \"P2013\":\r\n      // Missing required argument\r\n      const missingArg = (err.meta?.argument_name as string) || \"argument\";\r\n      return new AppError(`Missing required argument: ${missingArg}.`, 400);\r\n\r\n    case \"P2014\":\r\n      // Relation violation (required relation would be violated)\r\n      const relationName = (err.meta?.relation_name as string) || \"unknown\";\r\n      return new AppError(`The change would violate a required relation: ${relationName}.`, 400);\r\n\r\n    case \"P2015\":\r\n      // Related record not found\r\n      return new AppError(\"A related record could not be found.\", 404);\r\n\r\n    case \"P2016\":\r\n      // Query interpretation error\r\n      return new AppError(\"Query interpretation error. Please check your request.\", 400);\r\n\r\n    case \"P2017\":\r\n      // Records not connected for relation\r\n      const p2017Relation = (err.meta?.relation_name as string) || \"unknown\";\r\n      return new AppError(`Records for relation '${p2017Relation}' are not connected.`, 400);\r\n\r\n    case \"P2018\":\r\n      // Required connected records not found\r\n      return new AppError(\"Required connected records were not found.\", 404);\r\n\r\n    case \"P2019\":\r\n      // Input error\r\n      return new AppError(\"Input error. Please check the data you provided.\", 400);\r\n\r\n    case \"P2020\":\r\n      // Value out of range\r\n      const outOfRangeField = (err.meta?.field_name as string) || \"field\";\r\n      return new AppError(`Value out of range for field: ${outOfRangeField}.`, 400);\r\n\r\n    case \"P2021\":\r\n      // Table does not exist\r\n      const tableName = (err.meta?.table as string) || \"unknown\";\r\n      return new AppError(`Table '${tableName}' does not exist in the database.`, 500);\r\n\r\n    case \"P2022\":\r\n      // Column does not exist\r\n      const columnName = (err.meta?.column as string) || \"unknown\";\r\n      return new AppError(`Column '${columnName}' does not exist in the database.`, 500);\r\n\r\n    case \"P2023\":\r\n      // Inconsistent column data\r\n      return new AppError(\"Inconsistent column data. Please check your database schema.\", 500);\r\n\r\n    case \"P2024\":\r\n      // Timed out fetching connection from pool\r\n      return new AppError(\"Database connection timed out. Please try again later.\", 503);\r\n\r\n    case \"P2025\":\r\n      // Record not found\r\n      const cause = (err.meta?.cause as string) || \"The requested record was not found.\";\r\n      return new AppError(cause, 404);\r\n\r\n    case \"P2026\":\r\n      // Unsupported feature by current database provider\r\n      return new AppError(\"This operation is not supported by the current database provider.\", 400);\r\n\r\n    case \"P2027\":\r\n      // Multiple errors during transaction\r\n      return new AppError(\"Multiple errors occurred during the database transaction.\", 500);\r\n\r\n    case \"P2028\":\r\n      // Transaction API error\r\n      return new AppError(\"Transaction API error. Please try again.\", 500);\r\n\r\n    case \"P2029\":\r\n      // Query parameter limit exceeded\r\n      return new AppError(\"Query parameter limit exceeded. Please reduce the number of parameters.\", 400);\r\n\r\n    case \"P2030\":\r\n      // Fulltext index not found\r\n      return new AppError(\"Fulltext index not found. Cannot perform fulltext search.\", 400);\r\n\r\n    case \"P2031\":\r\n      // MongoDB replica set required\r\n      return new AppError(\"MongoDB replica set is required for transactions.\", 500);\r\n\r\n    case \"P2033\":\r\n      // Number out of range for 64-bit integer\r\n      return new AppError(\"A number used in the query does not fit into a 64-bit integer.\", 400);\r\n\r\n    case \"P2034\":\r\n      // Transaction conflict (write conflict or deadlock)\r\n      return new AppError(\"Transaction failed due to a write conflict or deadlock. Please retry.\", 409);\r\n\r\n    case \"P2035\":\r\n      // Assertion violation on the database\r\n      return new AppError(\"Assertion violation on the database.\", 500);\r\n\r\n    case \"P2036\":\r\n      // External connector error\r\n      return new AppError(\"Error in external connector. Please check your configuration.\", 500);\r\n\r\n    case \"P2037\":\r\n      // Too many connections\r\n      return new AppError(\"Too many database connections open. Please try again later.\", 503);\r\n\r\n    // â”€â”€â”€ Default â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n\r\n    default:\r\n      return new AppError(`Database error [${err.code}]: ${err.message}`, 500);\r\n  }\r\n};","import { ZodError } from \"zod\";\r\nimport { AppError } from \"./ApiError\";\r\n\r\nexport const handleZodError = (err: ZodError): AppError => {\r\n  const message = err.issues\r\n    .map((e) => `${e.path.join(\".\")}: ${e.message}`)\r\n    .join(\", \");\r\n  return new AppError(message, 400);\r\n};","import { AppError } from \"./ApiError\";\r\n\r\nexport const handleSyntaxError = (): AppError =>\r\n  new AppError(\"Invalid JSON in request body. Please check your request format.\", 400);\r\n","import { Router } from \"express\"\r\n\r\nexport const router = Router()\r\n\r\ninterface ModuleRoute {\r\n    path: string;\r\n    route: Router;\r\n}\r\n\r\nconst moduleRoutes: ModuleRoute[] = [\r\n    // {\r\n    //     path: \"/user\",\r\n    //     route: UserRoute\r\n    // }\r\n\r\n]\r\n\r\nmoduleRoutes.forEach((route) => {\r\n    router.use(route.path, route.route)\r\n})\r\n","import dotenv from \"dotenv\";\r\nimport path from \"path\";\r\n\r\ndotenv.config({ path: path.join(process.cwd(), \".env\") });\r\n\r\n\r\ntype FieldType = \"string\" | \"number\" | \"boolean\";\r\n\r\ninterface EnvField<T extends FieldType> {\r\n  key: string;\r\n  type: T;\r\n  default?: T extends \"string\" ? string : T extends \"number\" ? number : boolean;\r\n  required?: boolean;\r\n}\r\n\r\ntype Resolved<T extends FieldType> =\r\n  T extends \"string\"  ? string  :\r\n  T extends \"number\"  ? number  :\r\n  boolean;\r\n\r\ntype ResolveSchema<S extends Record<string, Record<string, EnvField<FieldType>>>> = {\r\n  [G in keyof S]: {\r\n    [F in keyof S[G]]: Resolved<S[G][F][\"type\"]>\r\n  }\r\n};\r\n\r\n\r\nconst str     = (key: string, defaultVal?: string):  EnvField<\"string\">  => ({ key, type: \"string\",  default: defaultVal, required: defaultVal === undefined });\r\nconst num     = (key: string, defaultVal?: number):  EnvField<\"number\">  => ({ key, type: \"number\",  default: defaultVal, required: defaultVal === undefined });\r\nconst bool    = (key: string, defaultVal?: boolean): EnvField<\"boolean\"> => ({ key, type: \"boolean\", default: defaultVal, required: defaultVal === undefined });\r\n\r\nconst resolve = <T extends FieldType>(field: EnvField<T>): Resolved<T> => {\r\n  const raw = process.env[field.key];\r\n\r\n  // missing\r\n  if (raw === undefined || raw === \"\") {\r\n    if (field.required) throw new Error(`[Config] Missing required env variable: \"${field.key}\"`);\r\n    return field.default as Resolved<T>;\r\n  }\r\n\r\n  // parse by type\r\n  if (field.type === \"number\") {\r\n    const parsed = Number(raw);\r\n    if (isNaN(parsed)) throw new Error(`[Config] Invalid number for env variable: \"${field.key}\" (got \"${raw}\")`);\r\n    return parsed as Resolved<T>;\r\n  }\r\n\r\n  if (field.type === \"boolean\") {\r\n    if (![\"true\", \"false\", \"1\", \"0\"].includes(raw.toLowerCase())) {\r\n      throw new Error(`[Config] Invalid boolean for env variable: \"${field.key}\" (got \"${raw}\")`);\r\n    }\r\n    return (raw.toLowerCase() === \"true\" || raw === \"1\") as Resolved<T>;\r\n  }\r\n\r\n  return raw as Resolved<T>;\r\n};\r\n\r\nconst buildConfig = <S extends Record<string, Record<string, EnvField<FieldType>>>>(schema: S): ResolveSchema<S> => {\r\n  const config = {} as any;\r\n  for (const group in schema) {\r\n    config[group] = {};\r\n    for (const field in schema[group]) {\r\n      config[group][field] = resolve(schema[group][field]);\r\n    }\r\n  }\r\n  return config;\r\n};\r\n\r\n\r\nexport const config = buildConfig({\r\n  app: {\r\n    port:           num (\"PORT\",           3000),\r\n    env:            str (\"NODE_ENV\",       \"development\"),\r\n    enableSwagger:  bool(\"ENABLE_SWAGGER\", false),\r\n  },\r\n  db: {\r\n    url:            str(\"DATABASE_URL\"),\r\n  },\r\n//   jwt: {\r\n//     secret:           str(\"JWT_SECRET\"),\r\n//     expiresIn:        str(\"JWT_EXPIRES_IN\",         \"7d\"),\r\n//     refreshSecret:    str(\"JWT_REFRESH_SECRET\"),\r\n//     refreshExpiresIn: str(\"JWT_REFRESH_EXPIRES_IN\", \"30d\"),\r\n//   },\r\n//   bcrypt: {\r\n//     saltRounds: num(\"BCRYPT_SALT_ROUNDS\", 10),\r\n//   },\r\n//   email: {\r\n//     host: str(\"SMTP_HOST\"),\r\n//     port: num(\"SMTP_PORT\", 587),\r\n//     user: str(\"SMTP_USER\"),\r\n//     pass: str(\"SMTP_PASS\"),\r\n//     from: str(\"SMTP_FROM\", \"noreply@app.com\"),\r\n//   },\r\n//   cloudinary: {\r\n//     cloudName: str(\"CLOUDINARY_CLOUD_NAME\"),\r\n//     apiKey:    str(\"CLOUDINARY_API_KEY\"),\r\n//     apiSecret: str(\"CLOUDINARY_API_SECRET\"),\r\n//   },\r\n});","import { Server } from \"http\";\r\nimport app from './app';\r\nimport { config } from \"./app/config\";\r\n\r\nconst PORT = process.env.PORT || 5000;\r\nlet server: Server;\r\n\r\nasync function bootstrap() {\r\n  try {\r\n    server = app.listen(config.app.port, () => {\r\n      console.log(`ðŸš€ Server is humming along on http://localhost:${config.app.port}`);\r\n    });\r\n  } catch (error) {\r\n    console.error(\"âŒ Failed to start server:\", error);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\n// Helper for Graceful Shutdown\r\nconst shutdown = (signal: string, error?: Error) => {\r\n  console.log(`\\n--- ${signal} received ---`);\r\n  if (error) console.error(\"Error details:\", error);\r\n  \r\n  if (server) {\r\n    console.log(\"ðŸ›‘ Closing HTTP server...\");\r\n    server.close(() => {\r\n      console.log(\"âœ… HTTP server closed. Process exiting.\");\r\n      process.exit(error ? 1 : 0);\r\n    });\r\n  } else {\r\n    process.exit(error ? 1 : 0);\r\n  }\r\n};\r\n\r\n\r\nprocess.on(\"uncaughtException\", (err) => {\r\n  shutdown(\"UNCAUGHT EXCEPTION\", err);\r\n});\r\n\r\n\r\nprocess.on(\"unhandledRejection\", (err: Error) => {\r\n  shutdown(\"UNHANDLED REJECTION\", err);\r\n});\r\n\r\n\r\nprocess.on(\"SIGTERM\", () => shutdown(\"SIGTERM\"));\r\nprocess.on(\"SIGINT\", () => shutdown(\"SIGINT\"));\r\n\r\nbootstrap();"],"mappings":"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","names":["import_express","express","cors","cookieParser","dotenv","path","config"]}